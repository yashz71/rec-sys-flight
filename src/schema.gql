# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Airline {
  code: ID!
  name: String!
}

type AirlineInfo {
  code: String!
  name: String!
}

type Airport {
  city: City!
  code: ID!
}

type AirportInfo {
  city: String!
  code: String!
}

type AuthResponse {
  user: User!
}

type BookingResponse {
  message: String!
  success: Boolean!
}

type City {
  code: ID!
  country: String!
  name: String!
}

input CreateFlightInput {
  airlineCode: String!
  arrAirportCode: String!
  arrival: String!
  depAirportCode: String!
  departure: String!
  duration: Float!
  flightNumber: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Flight {
  airline: Airline!
  arrival: DateTime!
  arrivalAirport: Airport!
  departure: DateTime!
  departureAirport: Airport!
  duration: Int!
  flightNumber: String!
  prices: [SeatClass!]!
}

type FlightMetadata {
  airlines: [AirlineInfo!]!
  airports: [AirportInfo!]!
}

input FlightSearchInput {
  airlineCode: String
  arrivalAirportCode: String
  arrivalCity: String
  arrivalCountry: String
  departureAirportCode: String
  departureCity: String
  departureCountry: String
  departureDate: String
  limit: Int = 10
  maxPrice: Float
  seatClass: String
}

input LoginInput {
  email: String!
  password: String!
}

type Mutation {
  bookFlight(flightNumber: String!, userId: String!): BookingResponse!
  createFlight(input: CreateFlightInput!): Flight!
  deleteFlight(flightNumber: String!): Boolean!
  login(loginInput: LoginInput!): AuthResponse!
  register(registerInput: RegisterInput!): AuthResponse!
  removeUser(id: String!): Boolean!
  updateFlight(flightNumber: String!, input: CreateFlightInput!): Flight!
  updateProfile(id: String!, input: UpdateUserInput!): User!
}

type Query {
  cities: [String!]!

  """Get a specific flight by flight number"""
  getFlight(flightNumber: String!): Flight!
  getFlightMetadata: FlightMetadata!

  """Get all available flights with prices"""
  getFlights(limit: Int = 10): [Flight!]!

  """A query for flight service recommendation"""
  getRecommendedFlightsByBooking(userId: String!): [Flight!]!

  """A query for flight service recommendation"""
  getRecommendedFlightsByOthers(userId: String!): [Flight!]!
  me: User!

  """Search flights with various filters including price and seat class"""
  searchFlights(search: FlightSearchInput!): [Flight!]!

  """Get all available users"""
  users: [User!]!
}

input RegisterInput {
  email: String!
  password: String!
  username: String!
}

enum Role {
  ADMIN
  USER
}

type SeatClass {
  amount: Float!
  currency: String!
  type: String!
}

input UpdateUserInput {
  email: String
  password: String
  username: String
}

type User {
  email: String!
  id: ID!
  roles: [Role!]!
  username: String!
}